---
# 【文献阅读】【技术分享】【竞赛】
title:  "【竞赛】2021全国人工智能大赛——AI+视觉特征编码"
date:   2022-01-18 12:00:00 +0800
key: AI-competition-CV
categories: 竞赛
tag: "CV"
---
[比赛链接](https://naic.pcl.ac.cn/contest/10/35)

# 一、赛事背景

为进一步落实科技部、工信部支持深圳建设国家新一代人工智能创新发展试验区和人工智能创新应用先导区“双区驱动”工作要求，加快推动深圳在人工智能、网络通信等科技创新领域建设步伐，由**深圳市人民政府、鹏城实验室（PCNL）主办，深圳市科技创新委员会、新一代人工智能产业技术创新战略联盟（AITISA）**联合承办“ 2021年全国人工智能大赛”。

大赛以“AI赋能视界”为主题，分为“AI+无线通信”、“AI+视觉特征编码”两个赛道，在2021年12月启动，面向全球开放报名参赛。

大赛立足于国际视野，营造人工智能创新创造氛围，促进产业、学术、资本、人才等创新要素融合发展，以高规格、高质量、高难度的理念加速培养人工智能领域的高精尖人才，推动人工智能技术的落地。

# **二、赛事日程**

**初赛阶段：2021-12-19（12:00:00 中午）至 2022-02-21（12:00:00 中午）**

- 2021-12-19，举办启动仪式，发布初赛赛题，同步上线大赛官网；
- 2021-12-19（12:00:00 中午）至 2022-02-13（12:00:00 中午），大赛开放报名，此阶段内可登录大赛官网报名或组队；
- 2021-12-20（12:00:00 中午），发布初赛数据；
- 2021-12-20（12:00:00 中午）至 2022-02-15（12:00:00 中午），大赛初赛评测第一阶段。开放再识别任务的提交，团队在线提交结果文件，测评系统将自动评测得分并同步更新至排行榜。排行榜上将记录选手的最高成绩，相关团队必须自行保存最高成绩作品的源代码以备审核；
- 2022-02-15（12:00:00 中午）至 2022-02-21（12:00:00 中午），大赛初赛评测第二阶段。开放重建特征任务的提交，团队在线提交相关模型文件，测评系统将自动评测得分并同步更新至排行榜。排行榜上将记录选手的最高成绩，相关团队必须自行保存最高成绩作品的源代码以备审核。本赛道经技术委员会审核后排名前 100 名的团队可以成功晋级复赛。

**复赛阶段：2022-02-21（12:00:00 中午）至 2022-03-28（12:00:00 中午）**

- 2022-02-21，发布复赛赛题；
- 2022-02-21（12:00:00 中午），发布复赛数据；
- 2022-02-21（12:00:00 中午）至 2022-03-21（12:00:00 中午），大赛复赛评测阶段，可在线提交参与排名；
- 2022-03-21 至 2022-03-28，晋级资格审核。每赛道经技术委员会审核后排名前10名的团队可以晋级决赛。

**决赛阶段：2022-03-29 至 2022-04-15**

- 复赛结束后公布具体日程安排。

 

# **三、组织结构**

主办单位：深圳市人民政府、鹏城实验室（PCNL）

承办单位：深圳市科技创新委员会、新一代人工智能产业技术创新战略联盟（AITISA）

协办单位：星河集团、华为技术有限公司、平安科技（深圳）有限公司、中国电信



# **一、赛题背景**

为配合国家“加快数字化发展，建设数字中国”战略，促进视觉信息智能编码技术领域的原始创新积累，本次人工智能大赛设立“ AI+视觉特征编码赛道”（以下简称赛道）。

赛道面向视觉大数据应用，针对码率约束条件下的机器视觉任务，探索视觉信息压缩技术与智能处理分析技术的融合。传统方案中视觉信息编码和机器视觉任务作为独立模块分别优化。区别于传统路线，本赛道综合考虑了视觉信息编码效率和机器视觉任务性能，结合传统信号处理技术与人工智能技术，提升精度，优化效率，改善泛化性。

赛道鼓励选手：

- **联合优化视觉信息编码效率和机器视觉任务性能。**
- **视觉特征压缩码流应具有较好的泛化性。**
- **视觉特征压缩模型与再识别算法应尽量降低计算复杂度。**

赛题冠名单位：华为技术有限公司
赛题支持单位：中山大学电子与信息工程学院、北京大学计算机学院、数据堂（北京）科技股份有限公司

## **1、初赛任务**

初赛任务包括行人/车辆视觉特征编码和行人/车辆再识别单独的两部分。
赛道主办方提供行人/车辆的原始视觉特征，选手按规定的预设码率对特征进行压缩和重建。根据原始视觉特征的重建误差得分。
在初赛第一阶段，选手需要进行再识别任务，获取再识别性能得分。第一阶段排名前 200 的团队将进入初赛第二阶段，进行重建特征任务的测评，获取重建误差得分。
初赛得分为重建误差得分和再识别性能得分的加权平均值。
若初赛得分一致，将依据特征重建任务中提供的模型算法先进性与创新性进行排序。
**单幅图像的特征压缩操作点（Operating Point）预设 3 个码率：64 字节、128 字节和 256 字节。视觉特征压缩超过预设码率视作无效。**

## **2、复赛任务**

复赛任务包括 3 部分联合任务：行人/车辆视觉特征提取、行人/车辆视觉特征压缩编码以及行人/车辆重识别。
赛道主办方提供行人/车辆图像，选手需提取具有良好泛化性与语义抽象力的视觉特征，按规定的预设码率对该特征进行压缩和重建，并使用重建特征进行再识别任务，获得再识别任务性能得分。特征压缩超过预设码率视作无效。
选手对大赛提供的视觉特征进行压缩和重建，根据特征的重建误差得分。特征压缩超过预设码率视作无效。
复赛得分为重建误差得分和再识别任务性能得分的加权平均值。赛道主办方将通过代码及文档复核刷掉违规与存在严重异常的队伍。
选手得分相近的情况下，依据文档提供的模型算法先进性与计算复杂性的定量/定性分析进行排序。
**单幅图像的特征压缩操作点（Operating Point）预设 3 个码率：64 字节、128 字节和 256 字节。视觉特征压缩超过预设码率视作无效。**

## **3、决赛任务**

决赛任务包括 3 部分联合任务：行人/车辆视觉特征提取、行人/车辆视觉特征压缩编码以及行人/车辆重识别。
赛道主办方提供行人/车辆图像，选手需提取具有良好泛化性与语义抽象力的视觉特征，按规定的预设码率对该特征进行压缩和重建，并使用重建特征进行再识别任务，获得再识别任务性能得分。特征压缩超过预设码率视作无效。
选手对大赛提供的视觉特征进行压缩和重建，根据特征的重建误差得分。特征压缩超过预设码率视作无效。
决赛客观得分是重建误差得分和再识别任务性能得分的加权平均值。主观得分基于专家委员会对于特征提取与压缩编码技术的先进性、复杂度、场景适配性的综合考量。决赛最终得分是客观得分和主观得分的加权平均，客观得分的权重为80%，主观得分的权重为20%。
决赛将在鹏城云脑超算平台上进行。
**单幅图像的特征压缩操作点（Operating Point）预设 3 个码率：16 字节、32 字节和 64 字节。视觉特征压缩超过预设码率视作无效。**

 

# **二、数据描述**

- 初赛所用的训练集将提供行人/车辆的原始视觉特征，选手按规定的预设码率对特征进行压缩和重建。根据原始视觉特征的重建误差得分。
- 所有参赛队伍需要基于大赛提供的训练集进行模型训练与调优，并在给定的测试集上运行结果。
- 初赛、复赛、决赛的难度将递增。

# **1、初赛训练集**

- 含有 259,450 个训练特征文件和对应的ID标签，可以用于模型训练
- 每个特征文件提供行人或车辆的对应ID标签，共有 259,478 个匹配对应关系
- 标注文件将由文本文件提供。文本文件每一行提供一个标注
  - 标注格式为：文件名 ID

文件组织结构如下：
train
├── train_feature
└── train_list.txt

# **2、初赛测试集**

初赛测试集仅用于第一阶段（再识别任务）的测评，测试集分 A/B 榜，不提供 ID 标签，其中：

- A榜（ 开放时间：2021-12-20 (12:00:00 中午） 至 2022-02-13 (12:00:00 中午） ）：测试集由 gallery_feature_A 与 query_feature_A 组成，其中 query_feature_A 包含 20,000 个特征文件，gallery_feature_A 包含 428,794 个特征文件，用于参赛队伍模型评估；
- B榜（ 开放时间： 2022-02-13 (12:00:00 中午）至 2022-02-15 (12:00:00 中午））：测试集由 gallery_feature_B 与 query_feature_B 组成，其中 query_feature_B 包含 10,000 个特征文件，gallery_feature_B 包含 210,939 个特征文件。测试集将于B榜提交开始后在大赛页面提供下载，用于第一阶段最终的成绩评定和排名。

文件组织结构如下：
test_A
├── gallery_feature_A
└── query_feature_A
test_B
├── gallery_feature_B
└── query_feature_B

# **三、数据下载**

| **数据名称**    | **数据描述**                                                 | **下载链接**                                                 |
| :-------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 初赛训练集      | 含有 259,450 个特征文件，特征文件名与对应的原始图像一致，特征文件为小端储存的 32 位浮点数表示的固定长度序列。 | [👉点击下载](https://www.heywhale.com/u/5a6641)               |
| 初赛第一阶段A榜 | query包含 20,000 个特征文件，gallery包含 428,794 个特征文件，特征文件名与对应的原始图像一致，特征文件为小端储存的 32 位浮点数表示的固定长度序列。 | 1.[👉百度网盘下载](https://www.heywhale.com/u/26bbad)，提取码：K8m9；  2.[👉对象存储下载](https://www.heywhale.com/u/a16f21) |
| A榜提交样例     | 「sub_a.json」：提交样例文件，输出值为随机结果，供参赛人员参考。 | [👉点击下载](https://www.heywhale.com/u/bb208e)               |
| 初赛第一阶段B榜 | query包含 10,000 个特征文件，gallery包含 210,939 个特征文件，特征文件名与对应的原始图像一致，特征文件为小端储存的 32 位浮点数表示的固定长度序列。 | *待上线后更新*                                               |

 

# **四、模型要求**

本次比赛允许选手自主使用外部数据集和预训练模型辅助训练比赛模型，但应满足如下要求：

1. 选用的预训练模型必须为使用非商业化的公开数据集训练得到的预训练模型，或是已经由广泛验证的公开模型。（“广泛验证”指必须已经在学术会议或期刊上公开发表（不含arxiv发表）；是论文作者公布的原始模型、各大深度学习平台（如Pytorch，Tensorflow等）官方提供的预训练模型或者是在2021年12月19日之前发布的预训练模型）；
2. 不允许选手对大赛数据集进行人工标注并用于训练，一经发现将取消参赛资格；
3. 比赛阶段，选手应配合工作人员进行随机核查。若使用了外部数据和预训练模型，选手应将用到的外部数据集和预训练模型一并提供给工作人员，并提供说明文档、详实阐述训练过程；
4. 复赛有望晋级队伍将需要进行结果复现。届时选手需向工作人员提供其用到的外部数据集和预训练模型（没有用到则不需提供）和说明文档，并在组委会提供的平台上从零开始复现；
5. 参赛人员需保证使用的数据集和模型不侵犯第三方权益，任何侵权行为与主办方及其相关方、平台方无涉。

# **一、初赛提交**

## **1、第一阶段提交**

### **1） 提交要求**

- [👉 提交入口](https://www.heywhale.com/org/2021NAIC/competition/area/61b81042902a13001708eb17/submit)
- 初赛第一阶段将开放再识别任务的提交入口，团队根据要求提交结果文件。提交截止后，大赛组委会将针对结果数据分布进行归一化处理，计算选手的再识别任务得分，排名前200的团队进入初赛第二阶段（重建特征任务）。
- 本阶段要求每支队伍的队长在【比赛主页】-【提交】页面直接进行提交操作即可，提交后即时出分。（提交人数过多时请耐心等待 3~5 分钟，若无分数反馈请在赛事页面右下角提交工单进行反馈）。
- 选手禁止利用规则漏洞或技术漏洞等不良途径提高成绩排名，禁止在比赛中使用除线上队友外的其他账号提交结果，一经发现将取消参赛个人的参赛资格，取消其所在团队的参赛成绩，并公开发布调查与处理结果。

### **2） 结果文件要求**

选手需要分别提交对应的.json文件，并将文件自由命名为 “XX.json”。【注意此文件必须为 UTF-8 编码格式】
结果文件示例如下：
{

```
"000000.png": ["000002.png", "000004.png", "000003.png", "000001.png"],

"000001.png": ["000002.png", "000004.png", "000003.png", "000001.png"]   
```

}
大括号中包含所有查询图片，每个查询图片之后跟着冒号和方括号，方括号里包含此查询图片对应的返回列表，每次查询仅需返回前 100 个结果并按算法得到的相似度从高到低排序。由于篇幅限制，示例中只有 4 个结果而不是 100 个。示例表示名字是"000000.png"的查询图片对应的返回列表依次是"000002.png", "000004.png", "000003.png", "000001.png", "000005.png", "000000.png"；其中"000002.png"是数据库中的某个图像的名字。数据库中的图像名是唯一的。

备注：
提交文件中每次查询有且仅有 100 个返回结果。


## **2、第二阶段提交**

再识别任务中排名前排名前 200 的团队进入初赛重建特征任务，每支队伍的队长需要按照组委会规定的环境要求以及模板准备提交相关模型文件，模型具体要求和环境要求待上线后更新。

 

## **二、复赛提交**

初赛结束后更新

# **一、初赛评审**

- 初赛阶段将开放再识别和重建特征两个任务：
  - 第一阶段：再识别任务（任务开放时间：2021-12-20（12:00:00 中午）至 2022-02-15（12:00:00 中午））
  - 第二阶段：特征重建任务（任务开放时间：2022-02-15（12:00:00 中午）至 2022-02-21（12:00:00 中午））

赛题将根据两个任务分为两个阶段。其中再识别任务的客观得分测评指标为再识别任务性能 ACC_reid，重建特征任务的客观得分测评指标为重建误差度量 dr。

- 初赛第一阶段（再识别任务）排行榜采用 A/B 榜机制
  - A 榜：2021-12-20 (12:00:00 中午） 至 2022-02-13 (12:00:00 中午），每个队伍拥有**每天 2 次**提交与测评排名的机会，大赛页面实时更新排行榜，从高到低排序。
  - B 榜: 2022-02-13 (12:00:00 中午）至 2022-02-15 (12:00:00 中午），每个队伍拥有**共计 2 次**提交与测评排名的机会，第一阶段的最终有效成绩与有效排名将以 B 榜排行榜为准，排名前 200 的团队进入初赛第二阶段。
- 初赛第二阶段（重建特征任务）中，每支队伍的队长需要按照组委会规定的环境要求以及模板准备提交相关模型文件，模型具体要求和环境要求待上线后更新。

![image-20220118180803827](https://gitee.com/ddzou/my-picture-bed-on-gitee/raw/master//markdown-picture//image-20220118180803827.png)

![image-20220118180832763](https://gitee.com/ddzou/my-picture-bed-on-gitee/raw/master//markdown-picture//image-20220118180832763.png)





# 思路

初赛：

训练集

train_feature  训练特征文件   27万，大小7*2800左右

train_list.txt 训练标签对应关系   标签一万多种类别



问题：

- 环境配置，带GPU
- 图像特征压缩算法调研：图像压缩算法
- 分类类别很大，算法调研：arcface 算法  可以分过八九万类

由于时间关系未继续。
