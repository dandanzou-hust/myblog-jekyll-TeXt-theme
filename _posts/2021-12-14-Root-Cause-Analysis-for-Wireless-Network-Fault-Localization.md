---
title:  "【竞赛】Root Cause Analysis for Wireless Network Fault Localization"
date:   2021-12-15 12:00:00 +0800

categories: 竞赛
tag: "RCA"

# 左侧菜单栏
# sidebar:
#  nav: "docs"
toc: true # 右侧导航栏
# read_time: true
# comments: true
# share: false
# related: true
---
[比赛链接](https://www.aiops.sribd.cn/home/statement)

## 赛题分析
[赛题分析](https://mp.weixin.qq.com/s/7FjAJq81PaA_XZgWm91aNw)

## 数据和评价指标
> 数据描述  

本数据集包括：  
* 变量因果关系图。在此数据集中，我们提供了一张专家绘制的变量因果关系图（已脱敏处理）作为先验。
* 变量特征数据。本数据集共包含2984个样本，每个样本为采自不同的5G路测场景的时间片段（长度不固定），其包含23个可观测特征变量（图1无色椭圆形）在该时间片段内随时间变化的信息。在这2984个样本中，只有少数数据（45%）是标注根因的已知异常数据，其余数据未知。
## 提交方式和记录
测试时，给出多个时间段数据，要求选手给出每个时段的根因及其概率，并设定阈值给出相应的根因集合。

选手需提交如下的csv格式文件，选手需将其认为的根因标记为1。

|数据段编号|	根因1|根因2|根因3|根因4|根因5|根因6|
|--------|------|-----|----|----|--|---|
|时间片段1|	0|	1|	1|	0|	0|	0|
|时间片段2|	0|	1|	1|	1|	0|	0|
| …… | …… | …… | …… | …… | …… |	…… |

## 技术方案
- 因果推理
DoWhy+EconML 可以用于决策因果关系，推理出包含根因概率的有向无环图。
- 用时序异常检测算法实现



## Baseline

ICASSP 2022 SPGC  Baseline方案描述：

Bayesian Network Based Method

在本方案中，我们讨论了变量之间因果关系已知的情况。

假设有两个根因 R1 和 R2，以及 4 个可观察变量X1, . . . ，X4。 根因只能采用二进制值 0 或 1 来表示
原因。 因果关系如图 1 所示。

![image-20211228151243707](../assert/2021-12-14-Root-Cause-Analysis-for-Wireless-Network-Fault-Localization/image-20211228151243707.png)

图 1：玩具示例的因果关系图：旨在说明基于贝叶斯网络的方法。

我们想告诉后验，在这种情况下，

![image-20211228151350905](../assert/2021-12-14-Root-Cause-Analysis-for-Wireless-Network-Fault-Localization/image-20211228151350905.png)

这种从 (1) 到 (2) 的分解是基于 DAG 是马尔可夫的假设。 蓝色部分是可以被归一化项吸收的常数，因此我们可以暂时跳过它们的计算，专注于红色部分的建模。

在我们的设置中，R1 和 R2 只能采用二进制值。 我们可以用多元高斯分布对条件概率 P(X2, X3|R2) 和 P(X1, X2|R1) 进行建模。 模型参数可以简单地从样本均值和样本协方差导出。

现在，可以分配先验概率 P(R1)、P(R2)，对于 r1、r2 的每个组合，(2) 中的每个数量都是可计算的，除了蓝色项。 最后的后验是通过简单的归一化获得的。





xgboost    0.89分